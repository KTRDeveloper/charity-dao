<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Developing, Deploying and operating a DAO</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta description="A simple tutorial that shows how to develop, deploy and operate a Decentralized Autonomous Organization (DAO).">
    <meta keywords="DAO,Solidity,dApp,DAO development, DAO deployment">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22%3E%3Ctext%20y=%22.9em%22%20font-size=%2290%22%3E🌐%3C/text%3E%3C/svg%3E" type="image/x-icon">
  </head>
  <body><script type="module">const GITHUB_CORNERS_TEMPLATE = document.createElement("template");
GITHUB_CORNERS_TEMPLATE.innerHTML = `
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg { z-index: 99; position: fixed; border: 0px; top: 0px; }
</style>
<svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;
export class GithubCorners extends HTMLElement {
    constructor() {
        super();
        this.right = '0';
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(this.ownerDocument.importNode(GITHUB_CORNERS_TEMPLATE.content, true));
        this.update();
    }
    static get observedAttributes() {
        return ['style', 'z-index', 'target', 'height', 'width', 'href', 'color', 'fill', 'position', 'top', 'left', 'right', 'bottom', 'transform'];
    }
    setAttr(name, value) {
        const svg = this.shadow.querySelector('svg');
        if (/(href)/.test(name.toLocaleLowerCase())) {
            svg.lastElementChild.setAttribute('xlink:href', value);
        }
        else if (/(color|fill)/.test(name.toLocaleLowerCase())) {
            svg.firstElementChild.style[name] = value;
        }
        else if (/(z-index|position|top|left|right|bottom|transform)/.test(name.toLocaleLowerCase())) {
            svg.style[name] = value;
        }
        else {
            svg.setAttribute(name, value);
        }
    }
    update() {
        ;
        [...this.getAttributeNames(), 'right'].forEach((name) => {
            const value = this.getAttribute(name) || this[name] || '';
            this.setAttr(name, value);
        });
    }
    attributeChangedCallback(name, oldValue, newValue) {
        if (oldValue !== newValue) {
            this.setAttr(name, newValue);
        }
    }
}
customElements.define('github-corners', GithubCorners);</script><github-corners target="__blank" position="fixed" z-index="999" href="https://github.com/KTRDeveloper/charity-dao"></github-corners><dark-mode style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light" permanent="true"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"🌒":"🌞";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h)}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.label.appendChild(this.icon);this.text=t.createElement("span");this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><script>const __TEMPLATE__ = document.createElement('template');
__TEMPLATE__.innerHTML = `
<style>

markdown-style h1:hover a.anchor .octicon-link:before,
markdown-style h2:hover a.anchor .octicon-link:before,
markdown-style h3:hover a.anchor .octicon-link:before,
markdown-style h4:hover a.anchor .octicon-link:before,
markdown-style h5:hover a.anchor .octicon-link:before,
markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}
[data-color-mode*='light'], [data-color-mode*='light'] body, markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; } [data-color-mode*='dark'], [data-color-mode*='dark'] body, markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; } markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } markdown-style details, markdown-style figcaption, markdown-style figure { display: block; } markdown-style summary { display: list-item; } markdown-style [hidden] { display: none !important; } markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } markdown-style a:active, markdown-style a:hover { outline-width: 0; } markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } markdown-style b, markdown-style strong { font-weight: 600; } markdown-style dfn { font-style: italic; } markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } markdown-style small { font-size: 90%; } markdown-style sub, markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } markdown-style sub { bottom: -0.25em; } markdown-style sup { top: -0.5em; } markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } markdown-style code, markdown-style kbd, markdown-style pre, markdown-style samp { font-family: monospace,monospace; font-size: 1em; } markdown-style figure { margin: 1em 40px; } markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } markdown-style [type=button], markdown-style [type=reset], markdown-style [type=submit] { -webkit-appearance: button; } markdown-style [type=button]::-moz-focus-inner, markdown-style [type=reset]::-moz-focus-inner, markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } markdown-style [type=button]:-moz-focusring, markdown-style [type=reset]:-moz-focusring, markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } markdown-style [type=checkbox], markdown-style [type=radio] { box-sizing: border-box; padding: 0; } markdown-style [type=number]::-webkit-inner-spin-button, markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } markdown-style [type=search]::-webkit-search-cancel-button, markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } markdown-style a:hover { text-decoration: underline; } markdown-style hr::before { display: table; content: ""; } markdown-style hr::after { display: table; clear: both; content: ""; } markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } markdown-style td, markdown-style th { padding: 0; } markdown-style details summary { cursor: pointer; } markdown-style details:not([open])>*:not(summary) { display: none !important; } markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } markdown-style h1, markdown-style h2, markdown-style h3, markdown-style h4, markdown-style h5, markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } markdown-style h3 { font-weight: 600; font-size: 1.25em; } markdown-style h4 { font-weight: 600; font-size: 1em; } markdown-style h5 { font-weight: 600; font-size: .875em; } markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } markdown-style p { margin-top: 0; margin-bottom: 10px; } markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } markdown-style ul, markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } markdown-style ol ol, markdown-style ul ol { list-style-type: lower-roman; } markdown-style ul ul ol, markdown-style ul ol ol, markdown-style ol ul ol, markdown-style ol ol ol { list-style-type: lower-alpha; } markdown-style dd { margin-left: 0; } markdown-style tt, markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } markdown-style input::-webkit-outer-spin-button, markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
markdown-style .token.comment, markdown-style .token.prolog, markdown-style .token.doctype, markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } markdown-style .token.namespace { opacity: 0.7; } markdown-style .token.tag, markdown-style .token.selector, markdown-style .token.constant, markdown-style .token.symbol, markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } markdown-style .token.property-access, markdown-style .token.operator, markdown-style .token.boolean, markdown-style .token.number, markdown-style .token.selector markdown-style .token.class, markdown-style .token.attr-name, markdown-style .token.string, markdown-style .token.char, markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } markdown-style .token.entity, markdown-style .token.url, .language-css markdown-style .token.string, .style markdown-style .token.string { color: var(--color-prettylights-syntax-string); } markdown-style .token.color, markdown-style .token.atrule, markdown-style .token.attr-value, markdown-style .token.function, markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } markdown-style .token.rule, markdown-style .token.regex, markdown-style .token.important, markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } markdown-style .token.important, markdown-style .token.bold { font-weight: bold; } markdown-style .token.italic { font-style: italic; } markdown-style .token.entity { cursor: help; }
markdown-style [data-catalyst] { display: block; } markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } markdown-style g-emoji img { width: 1em; height: 1em; } markdown-style::before { display: table; content: ""; } markdown-style::after { display: table; clear: both; content: ""; } markdown-style>*:first-child { margin-top: 0 !important; } markdown-style>*:last-child { margin-bottom: 0 !important; } markdown-style a:not([href]) { color: inherit; text-decoration: none; } markdown-style .absent { color: var(--color-danger-fg); } markdown-style a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } markdown-style a.anchor:focus { outline: none; } markdown-style p, markdown-style blockquote, markdown-style ul, markdown-style ol, markdown-style dl, markdown-style table, markdown-style pre, markdown-style details { margin-top: 0; margin-bottom: 16px; } markdown-style blockquote>:first-child { margin-top: 0; } markdown-style blockquote>:last-child { margin-bottom: 0; } markdown-style sup>a::before { content: "["; } markdown-style sup>a::after { content: "]"; }
markdown-style .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block; } markdown-style .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer; } markdown-style .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important; } markdown-style details.octicon-video:not([open])>*:not(summary) { display: none !important; } markdown-style details.octicon-video:not([open]) > summary { border-bottom: 0 !important; } markdown-style h1 .octicon-link, markdown-style h2 .octicon-link, markdown-style h3 .octicon-link, markdown-style h4 .octicon-link, markdown-style h5 .octicon-link, markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } markdown-style h1:hover .anchor, markdown-style h2:hover .anchor, markdown-style h3:hover .anchor, markdown-style h4:hover .anchor, markdown-style h5:hover .anchor, markdown-style h6:hover .anchor { text-decoration: none; } markdown-style h1:hover .anchor .octicon-link, markdown-style h2:hover .anchor .octicon-link, markdown-style h3:hover .anchor .octicon-link, markdown-style h4:hover .anchor .octicon-link, markdown-style h5:hover .anchor .octicon-link, markdown-style h6:hover .anchor .octicon-link { visibility: visible; } markdown-style h1 tt, markdown-style h1 code, markdown-style h2 tt, markdown-style h2 code, markdown-style h3 tt, markdown-style h3 code, markdown-style h4 tt, markdown-style h4 code, markdown-style h5 tt, markdown-style h5 code, markdown-style h6 tt, markdown-style h6 code { padding: 0 .2em; font-size: inherit; } markdown-style ul.no-list, markdown-style ol.no-list { padding: 0; list-style-type: none; } markdown-style ol[type="1"] { list-style-type: decimal; } markdown-style ol[type=a] { list-style-type: lower-alpha; } markdown-style ol[type=i] { list-style-type: lower-roman; } markdown-style div>ol:not([type]) { list-style-type: decimal; } markdown-style ul ul, markdown-style ul ol, markdown-style ol ol, markdown-style ol ul { margin-top: 0; margin-bottom: 0; } markdown-style li>p { margin-top: 16px; } markdown-style li+li { margin-top: .25em; } markdown-style dl { padding: 0; } markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } markdown-style table th { font-weight: 600; } markdown-style table th, markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } markdown-style table img { background-color: transparent; vertical-align: middle; } markdown-style img[align=right] { padding-left: 20px; } markdown-style img[align=left] { padding-right: 20px; } markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } markdown-style span.frame { display: block; overflow: hidden; } markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } markdown-style span.frame span img { display: block; float: left; } markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } markdown-style span.align-center { display: block; overflow: hidden; clear: both; } markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } markdown-style span.align-center span img { margin: 0 auto; text-align: center; } markdown-style span.align-right { display: block; overflow: hidden; clear: both; } markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } markdown-style span.align-right span img { margin: 0; text-align: right; } markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } markdown-style span.float-left span { margin: 13px 0 0; } markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } markdown-style code, markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } markdown-style code br, markdown-style tt br { display: none; } markdown-style del code { text-decoration: inherit; } markdown-style pre code { font-size: 100%; } markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } markdown-style pre code, markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } markdown-style pre > code { padding: 16px; overflow: auto; display: block; } markdown-style .csv-data td, markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } markdown-style .csv-data tr { border-top: 0; } markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } markdown-style .footnotes ol { padding-left: 16px; } markdown-style .footnotes li { position: relative; } markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } markdown-style .footnotes li:target { color: var(--color-fg-default); } markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } markdown-style .task-list-item { list-style-type: none; } markdown-style .task-list-item label { font-weight: 400; } markdown-style .task-list-item.enabled label { cursor: pointer; } markdown-style .task-list-item+.task-list-item { margin-top: 3px; } markdown-style .task-list-item .handle { display: none; } markdown-style .task-list-item-checkbox, markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }
</style>
<slot></slot>
`;
class MarkdownStyle extends HTMLElement {
    constructor() {
        super();
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(__TEMPLATE__.content.cloneNode(true));
        const style = Array.prototype.slice
            .call(this.shadow.children)
            .find((item) => item.tagName === 'STYLE');
        if (style) {
            const id = '__MARKDOWN_STYLE__';
            const findStyle = document.getElementById(id);
            if (!findStyle) {
                style.id = id;
                document.head.append(style);
            }
        }
    }
    get theme() {
        const value = this.getAttribute('theme');
        return value === null ? '' : value;
    }
    set theme(name) {
        this.setAttribute('theme', name);
    }
    connectedCallback() {
        if (!this.theme) {
            const { colorMode } = document.documentElement.dataset;
            this.theme = colorMode;
            const observer = new MutationObserver((mutationsList, observer) => {
                this.theme = document.documentElement.dataset.colorMode;
            });
            observer.observe(document.documentElement, { attributes: true });
            window.matchMedia('(prefers-color-scheme: light)').onchange = (event) => {
                this.theme = event.matches ? 'light' : 'dark';
            };
            window.matchMedia('(prefers-color-scheme: dark)').onchange = (event) => {
                this.theme = event.matches ? 'dark' : 'light';
            };
        }
    }
}
customElements.define('markdown-style', MarkdownStyle);</script><markdown-style style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px;max-width: 960px;" class="markdown-style">
    <h1 id="developing-deploying-and-operating-a-decentralized-autonomous-organization-dao"><a class="anchor" aria-hidden="true" tabindex="-1" href="#developing-deploying-and-operating-a-decentralized-autonomous-organization-dao"><span class="octicon octicon-link"></span></a>Developing, Deploying and Operating a Decentralized Autonomous Organization (DAO)</h1>
    <p>
      <img src="./images/cover.jfif" alt="cover">
      <em>Author: Rodrigue KONAN TCHINDA</em>,
      <em>Published on: 1-Dec-2024</em>
    </p>
    <p>
      A Decentralized Autonomous Organization (DAO) is an organization where the rules of
      operation and organizational logic are encoded as smart contracts that are deployed on a blockchain. DAOs have interesting characteristics such as decentralization, transparency, and independence which make them an excellent choice for organizations that manage public goods.
      In this article, we'll walk through the process of creating a DAO starting from implementation to operation, using the example of a charitable organization.
    </p>
    <h2 id="what-are-we-going-to-build"><a class="anchor" aria-hidden="true" tabindex="-1" href="#what-are-we-going-to-build"><span class="octicon octicon-link"></span></a>What are we going to build?</h2>
    <p>In order to illustrate the entire process of developing, deploying and managing a DAO, we'll use a simple example of a Charity Organization. The DAO in question, which we'll call Charity DAO, will collect funds and allocate them to charitable acts. Donors can become members by obtaining tokens as a reward for their donations. These tokens will enable them to participate in the governance of the DAO, where they will have the opportunity to influence the orientation of the use of their donations. Charity actions will consist of transfers of funds in the form of ethers to help entities in need. Any such aid to be provided by the Charity DAO will begin with the submission of a proposal. This will then be subject to a vote by the members, to decide whether or not to accept it. Once the proposal has been accepted by the majority, it can be executed and the funds actually sent to the beneficiary entity whose address has been indicated in the proposal.</p>
    <p>The choice of a DAO is particularly important here, in that it ensures totally transparent management of the funds collected, and streamlines the aid provided by the DAO through democratic management.</p>
    <h2 id="architecture-of-the-charity-dao"><a class="anchor" aria-hidden="true" tabindex="-1" href="#architecture-of-the-charity-dao"><span class="octicon octicon-link"></span></a>Architecture of the Charity DAO</h2>
    <p>
      The Charity DAO consists of three smart contracts:
      
      <img src="./images/architecture.png" alt="Charity DAO architecture">
    </p>
    <ul>
      <li>CharityGovernor is responsible for setting the governance rules of the DAO. It is through it that proposals are submitted and DAO members cast their votes where vote power depends on the quantity of tokens held by a given user. It is also responsible for managing the proposal lifecycle. Once a proposal has been validated, it can then send it to CharityTimelock for execution.</li>
      <li>CharityToken is the DAO's governance token. All members must possess it to participate in voting on proposals. It will track token balance as well as vote power delegation.</li>
      <li>CharityTimelock is responsible for executing validated proposals. It introduces a delay before execution, so that execution can be cancelled in the event that it may cause problems for the DAO. CharityTimelock also plays the role of the CharityTreasury responsible for managing the DAO's funds and tokens. It enables transparent management of donations. In CharityTreasury, donations are rewarded with tokens, enabling donors to participate in the management of donated funds. In our implementation CharityTreasury is implemented as a separate abstract contract which is then inherited by CharityTimelock.</li>
    </ul>
    <h2 id="development-of-charity-dao"><a class="anchor" aria-hidden="true" tabindex="-1" href="#development-of-charity-dao"><span class="octicon octicon-link"></span></a>Development of Charity DAO</h2>
    <h3 id="development-environment"><a class="anchor" aria-hidden="true" tabindex="-1" href="#development-environment"><span class="octicon octicon-link"></span></a>Development environment</h3>
    <p>To develop our DAO, we'll need <a href="https://code.visualstudio.com/download">VSCode</a>, <a href="https://nodejs.org/en/learn/getting-started/how-to-install-nodejs">Node.js</a>, <a href="https://yarnpkg.com/en/docs/install">yarn</a>, and <a href="https://hardhat.org/hardhat-runner/docs/getting-started#installation">Hardhat</a>. You can also install <a href="https://hardhat.org/hardhat-vscode">Hardhat for Visual Studio Code</a>, the extension that adds support for solidity to VSCode. The associated websites show how to install them.</p>
    <p>When the environment is ready, the following command can be used to initialize a new project and create a package.json file.</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">yarn</span> init <span class="token parameter variable">-y</span>
</span></code><div onclick="copied(this)" data-code="yarn init -y
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>After that, install the hardhat package as a development dependency:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">--dev</span> hardhat
</span></code><div onclick="copied(this)" data-code="yarn add --dev hardhat
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Then initialize a new Hardhat project:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat init
</span></code><div onclick="copied(this)" data-code="npx hardhat init
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Choose 'Create a JavaScript project' and accept everything except package installation. Install the following dependencies after that:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">--dev</span> @nomicfoundation/hardhat-ethers @nomicfoundation/hardhat-verify ethers dotenv
</span></code><div onclick="copied(this)" data-code="yarn add --dev @nomicfoundation/hardhat-ethers @nomicfoundation/hardhat-verify ethers dotenv
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>In the project structure created by default, we will add a folder named “scripts” where will reside our scripts. Then, we will delete the <em>test</em> and <em>ignition</em> folders that we won't be using.</p>
    <p>We'll be using the <a href="https://www.openzeppelin.com/">Openzeppelin</a> library to develop our contracts. Openzeppelin is an open-source library of pre-audited, reusable smart contract components used for secure smart contract development. The library can be instaledl with the command:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">yarn</span> <span class="token function">add</span> @openzeppelin/contracts
</span></code><div onclick="copied(this)" data-code="yarn add @openzeppelin/contracts
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>To make the creation of smart contracts even easier, Openzeppelin provides a tool called <a href="https://wizard.openzeppelin.com/">Openzeppelin Wizard</a> which enables the generation of smart contract code. With this tool, we created the code used as starting points for CharityToken and CharityGovernor contracts of the Charity DAO.</p>
    <p>The Charity DAO consists of three smart contracts: CharityToken, CharityGovernor and CharityTimelock. CharityTimelock is also the treasury and inherits the treasury functionalities from the CharityTreasury abstract contract.</p>
    <p>The code of the CharityToken is given below. CharityToken is an ERC20 Token that inherits a number of Openzeppelin extensions including <em>ERC20Votes</em>, <em>ERC20Permit</em>, <em>ERC20Burnable</em>, <em>Ownable</em>. <em>ERC20Votes</em> extension adds voting capabilities to an ERC20 token. It assigns voting power to token holders based on their token balance. Hence, the more tokens a user own, the greater their voting power. The ERC20Votes extension also allows a user to delegate their voting power to another. The <em>ERCPermit</em> extension enables token holders to allow without paying gas, third parties to transfer from their account. The <em>ERC20Burnable</em> extension allows token holders to destroy their tokens. The <em>Ownable</em> extension as for it, provides a basic access control mechanism, where there is an account (an owner) that can be granted exclusive access to specific functions by decorating them with the <em>onlyOwner</em> modifier that it makes available. This extension also allows the owner to transfer the ownership to another account.</p>
    <p>The <em>mint</em> function was added to CharityToken to allow the owner (by applying the <em>onlyOwner</em> modifier) to create more supply.</p>
    <pre class="language-solidity"><code class="language-solidity code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ./CharityToken.sol</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">contract</span> <span class="token class-name">CharityToken</span> <span class="token keyword">is</span> ERC20<span class="token punctuation">,</span> ERC20Burnable<span class="token punctuation">,</span> Ownable<span class="token punctuation">,</span> ERC20Permit<span class="token punctuation">,</span> ERC20Votes <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5">    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token builtin">address</span> initialOwner<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">        <span class="token function">ERC20</span><span class="token punctuation">(</span><span class="token string">"CharityToken"</span><span class="token punctuation">,</span> <span class="token string">"CHT"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">        <span class="token function">Ownable</span><span class="token punctuation">(</span>initialOwner<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">        <span class="token function">ERC20Permit</span><span class="token punctuation">(</span><span class="token string">"CharityToken"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">    <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">    <span class="token keyword">function</span> <span class="token function">mint</span><span class="token punctuation">(</span><span class="token builtin">address</span> to<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">        <span class="token function">_mint</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">    <span class="token punctuation">}</span>       
</span><span class="code-line line-number" line="14">            
</span><span class="code-line line-number" line="15">    <span class="token comment">// functions  that are overrides required by Solidity.</span>
</span><span class="code-line line-number" line="16">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="17"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="18">
</span></code><div onclick="copied(this)" data-code="// ./CharityToken.sol
...
contract CharityToken is ERC20, ERC20Burnable, Ownable, ERC20Permit, ERC20Votes {

    constructor(address initialOwner)
        ERC20(&#x22;CharityToken&#x22;, &#x22;CHT&#x22;)
        Ownable(initialOwner)
        ERC20Permit(&#x22;CharityToken&#x22;)
    {}

    function mint(address to, uint256 amount) public onlyOwner {
        _mint(to, amount);
    }       
            
    // functions  that are overrides required by Solidity.
    ...
}

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>CharityTreasury is an abstract contract that implements the functionalities we desire for the treasure. This treasury is controlled by an owner which is the only account able to perform certain operations on the treasury such as minting new tokens, burning tokens, transferring assets from the treasury to another account, etc. For the Charity DAO, donations are made by interacting directly with the treasury contract. The donor must call the <em>donate</em> function with the desired amount of ethers, specifying whether he or she wants to receive CharityTokens as a reward or not. If he chooses to receive tokens, he will receive a quantity of tokens proportional to the number of ethers donated. The <em>transferEthers</em> and <em>transferTokens</em> functions are used to transfer assets from the treasury to a specified address. This address may be that of the entity the CharityDAO wishes to help. Finally, the <em>releaseEthers</em> and <em>releaseTokens</em> functions are used to send the total treasury balance to a given address. This can be used, for example, when the treasury is to be transferred to a new address and the assets are to be transferred to that address.</p>
    <pre class="language-solidity"><code class="language-solidity code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ./CharityTreasury.sol</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="3">abstract <span class="token keyword">contract</span> <span class="token class-name">CharityTreasury</span> <span class="token keyword">is</span> Ownable<span class="token punctuation">,</span> ReentrancyGuard<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5">    <span class="token builtin">uint256</span> _amountOfTokenForOneEther <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=></span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> _donations<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">    CharityToken _token<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">    <span class="token keyword">event</span> <span class="token function">NewDonation</span><span class="token punctuation">(</span><span class="token builtin">address</span> donor<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    <span class="token keyword">event</span> <span class="token function">TokensTransferToBeneficiary</span><span class="token punctuation">(</span><span class="token builtin">address</span> beneficiary<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    <span class="token keyword">event</span> <span class="token function">EthersTransferToBeneficiary</span><span class="token punctuation">(</span><span class="token builtin">address</span> beneficiary<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13">    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token builtin">address</span> initialOwner<span class="token punctuation">,</span> CharityToken _ctk<span class="token punctuation">)</span> <span class="token function">Ownable</span><span class="token punctuation">(</span>initialOwner<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">        _token <span class="token operator">=</span> _ctk<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17">    <span class="token keyword">function</span> <span class="token function">mintTokens</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">        _token<span class="token punctuation">.</span><span class="token function">mint</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="20">    <span class="token keyword">function</span> <span class="token function">burnTokens</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">        _token<span class="token punctuation">.</span><span class="token function">burn</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23">    <span class="token keyword">function</span> <span class="token function">donate</span><span class="token punctuation">(</span><span class="token builtin">bool</span> acceptTokenReward<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">payable</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="24">        _donations<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span> <span class="token operator">+=</span> msg<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26">        <span class="token keyword">if</span><span class="token punctuation">(</span>acceptTokenReward<span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">            <span class="token function">sendTokensToRewardDonor</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>value<span class="token punctuation">,</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29">        <span class="token keyword">emit</span> <span class="token function">NewDonation</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> msg<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="30">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32">    <span class="token keyword">function</span> <span class="token function">isDonor</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">view</span> <span class="token keyword">returns</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="33">        <span class="token keyword">return</span> _donations<span class="token punctuation">[</span>user<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="34">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="35">    <span class="token keyword">function</span> <span class="token function">getUserTotalDonations</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">view</span> <span class="token keyword">returns</span><span class="token punctuation">(</span><span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="36">        <span class="token keyword">return</span> _donations<span class="token punctuation">[</span>user<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="37">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="38">
</span><span class="code-line line-number" line="39">    <span class="token keyword">function</span> <span class="token function">sendTokensToRewardDonor</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amountDonated<span class="token punctuation">,</span> <span class="token builtin">address</span> donor<span class="token punctuation">)</span> <span class="token keyword">private</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="40">         <span class="token builtin">uint256</span> amountOfCHT <span class="token operator">=</span> amountDonated <span class="token operator">*</span> _amountOfTokenForOneEther<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="41">        <span class="token keyword">require</span><span class="token punctuation">(</span>_token<span class="token punctuation">.</span><span class="token function">balanceOf</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> amountOfCHT<span class="token punctuation">,</span> <span class="token string">"Insufficient Tokens"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="42">        _token<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>donor<span class="token punctuation">,</span> amountOfCHT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="43">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45">    <span class="token keyword">function</span> <span class="token function">getAmountOfTokenForOneEther</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">view</span> <span class="token keyword">returns</span><span class="token punctuation">(</span><span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="46">        <span class="token keyword">return</span> _amountOfTokenForOneEther<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="47">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="48">    <span class="token keyword">function</span> <span class="token function">setAmountOfTokenForOneEther</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="49">        _amountOfTokenForOneEther <span class="token operator">=</span> amount<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="50">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="51">
</span><span class="code-line line-number" line="52">    <span class="token comment">//This method is protected against reentrancy attack using the nonReentrant modifier</span>
</span><span class="code-line line-number" line="53">    <span class="token keyword">function</span> <span class="token function">transferEthers</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token keyword">payable</span> beneficiary<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner nonReentrant <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="54">        <span class="token keyword">require</span><span class="token punctuation">(</span>amount <span class="token operator">></span> <span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>balance<span class="token punctuation">,</span> <span class="token string">"Insufficient funds!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="55">        <span class="token comment">// Call returns a boolean value indicating success or failure. This is the recommended method to use</span>
</span><span class="code-line line-number" line="56">        <span class="token punctuation">(</span><span class="token builtin">bool</span> sent<span class="token punctuation">,</span> <span class="token punctuation">)</span> <span class="token operator">=</span> beneficiary<span class="token punctuation">.</span>call<span class="token punctuation">{</span>value<span class="token punctuation">:</span> amount<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="57">        <span class="token keyword">require</span><span class="token punctuation">(</span>sent<span class="token punctuation">,</span> <span class="token string">"Transfer failled!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="58">        <span class="token keyword">emit</span> <span class="token function">EthersTransferToBeneficiary</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="59">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="60">
</span><span class="code-line line-number" line="61">    <span class="token comment">// Tranfer tokens from the tresury to a given beneficiary</span>
</span><span class="code-line line-number" line="62">    <span class="token keyword">function</span> <span class="token function">transferTokens</span><span class="token punctuation">(</span><span class="token builtin">address</span> beneficiary<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="63">        <span class="token keyword">require</span><span class="token punctuation">(</span>_token<span class="token punctuation">.</span><span class="token function">balanceOf</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> amount<span class="token punctuation">,</span> <span class="token string">"Insufficient Tokens"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="64">        _token<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="65">        <span class="token keyword">emit</span> <span class="token function">TokensTransferToBeneficiary</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="66">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="67">    
</span><span class="code-line line-number" line="68">    <span class="token comment">// Send all the ethers held by the treasury to a given address </span>
</span><span class="code-line line-number" line="69">    <span class="token keyword">function</span> <span class="token function">releaseEthers</span><span class="token punctuation">(</span><span class="token builtin">address</span> beneficiary<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="70">        <span class="token builtin">uint256</span> ethTreasuryBalance <span class="token operator">=</span> <span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>balance<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="71">        <span class="token keyword">payable</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>ethTreasuryBalance<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="72">        <span class="token keyword">emit</span> <span class="token function">EthersTransferToBeneficiary</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> ethTreasuryBalance<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="73">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="74">    
</span><span class="code-line line-number" line="75">    <span class="token comment">// Send all the tokens held by the treasury to a given address </span>
</span><span class="code-line line-number" line="76">    <span class="token keyword">function</span> <span class="token function">releaseTokens</span><span class="token punctuation">(</span><span class="token builtin">address</span> beneficiary<span class="token punctuation">)</span> <span class="token keyword">public</span> onlyOwner <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="77">        <span class="token builtin">uint256</span> tokenTreasuryBalance <span class="token operator">=</span> _token<span class="token punctuation">.</span><span class="token function">balanceOf</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="78">        _token<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> tokenTreasuryBalance<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="79">        <span class="token keyword">emit</span> <span class="token function">TokensTransferToBeneficiary</span><span class="token punctuation">(</span>beneficiary<span class="token punctuation">,</span> tokenTreasuryBalance<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="80">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="81"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="// ./CharityTreasury.sol
...
abstract contract CharityTreasury is Ownable, ReentrancyGuard{

    uint256 _amountOfTokenForOneEther = 2;
    mapping(address => uint256) _donations;
    CharityToken _token;

    event NewDonation(address donor, uint256 amount);
    event TokensTransferToBeneficiary(address beneficiary, uint256 amount);
    event EthersTransferToBeneficiary(address beneficiary, uint256 amount);

    constructor(address initialOwner, CharityToken _ctk) Ownable(initialOwner) {
        _token = _ctk;
    }

    function mintTokens(uint256 amount) public onlyOwner {
        _token.mint(address(this), amount);
    }
    function burnTokens(uint256 amount) public onlyOwner {
        _token.burn(amount);
    }
    function donate(bool acceptTokenReward) public payable {
        _donations[msg.sender] += msg.value;

        if(acceptTokenReward){
            sendTokensToRewardDonor(msg.value, msg.sender);
        }
        emit NewDonation(msg.sender, msg.value);
    }

    function isDonor(address user) public view returns(bool) {
        return _donations[user] > 0;
    }
    function getUserTotalDonations(address user) public view returns(uint256) {
        return _donations[user];
    }

    function sendTokensToRewardDonor(uint256 amountDonated, address donor) private onlyOwner {
         uint256 amountOfCHT = amountDonated * _amountOfTokenForOneEther;
        require(_token.balanceOf(address(this)) > amountOfCHT, &#x22;Insufficient Tokens&#x22;);
        _token.transfer(donor, amountOfCHT);
    }

    function getAmountOfTokenForOneEther() public view returns(uint256) {
        return _amountOfTokenForOneEther;
    }
    function setAmountOfTokenForOneEther(uint256 amount) public onlyOwner{
        _amountOfTokenForOneEther = amount;
    }

    //This method is protected against reentrancy attack using the nonReentrant modifier
    function transferEthers(address payable beneficiary, uint256 amount) public onlyOwner nonReentrant {
        require(amount > address(this).balance, &#x22;Insufficient funds!&#x22;);
        // Call returns a boolean value indicating success or failure. This is the recommended method to use
        (bool sent, ) = beneficiary.call{value: amount}(&#x22;&#x22;);
        require(sent, &#x22;Transfer failled!&#x22;);
        emit EthersTransferToBeneficiary(beneficiary, amount);
    }

    // Tranfer tokens from the tresury to a given beneficiary
    function transferTokens(address beneficiary, uint256 amount) public onlyOwner {
        require(_token.balanceOf(address(this)) > amount, &#x22;Insufficient Tokens&#x22;);
        _token.transfer(beneficiary, amount);
        emit TokensTransferToBeneficiary(beneficiary, amount);
    }
    
    // Send all the ethers held by the treasury to a given address 
    function releaseEthers(address beneficiary) public onlyOwner {
        uint256 ethTreasuryBalance = address(this).balance;
        payable(beneficiary).transfer(ethTreasuryBalance);
        emit EthersTransferToBeneficiary(beneficiary, ethTreasuryBalance);
    }
    
    // Send all the tokens held by the treasury to a given address 
    function releaseTokens(address beneficiary) public onlyOwner {
        uint256 tokenTreasuryBalance = _token.balanceOf(address(this));
        _token.transfer(beneficiary, tokenTreasuryBalance);
        emit TokensTransferToBeneficiary(beneficiary, tokenTreasuryBalance);
    }
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-solidity"><code class="language-solidity code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="2"><span class="token comment">// ./CharityTimelock.sol</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="4"><span class="token keyword">contract</span> <span class="token class-name">CharityTimelock</span> <span class="token keyword">is</span> TimelockController<span class="token punctuation">,</span> CharityTreasury <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">constructor</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="6">        <span class="token builtin">uint256</span> _minDelay<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">        <span class="token builtin">address</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">memory</span> _proposers<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        <span class="token builtin">address</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">memory</span> _executors<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">        <span class="token builtin">address</span> admin<span class="token punctuation">,</span> 
</span><span class="code-line line-number" line="10">        <span class="token builtin">address</span> initialOwner<span class="token punctuation">,</span> 
</span><span class="code-line line-number" line="11">        CharityToken _ctk
</span><span class="code-line line-number" line="12">    <span class="token punctuation">)</span> <span class="token function">TimelockController</span><span class="token punctuation">(</span>_minDelay<span class="token punctuation">,</span> _proposers<span class="token punctuation">,</span> _executors<span class="token punctuation">,</span> admin<span class="token punctuation">)</span> <span class="token function">CharityTreasury</span><span class="token punctuation">(</span>initialOwner<span class="token punctuation">,</span> _ctk<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">
</span></code><div onclick="copied(this)" data-code="...
// ./CharityTimelock.sol
...
contract CharityTimelock is TimelockController, CharityTreasury {
    constructor(
        uint256 _minDelay,
        address[] memory _proposers,
        address[] memory _executors,
        address admin, 
        address initialOwner, 
        CharityToken _ctk
    ) TimelockController(_minDelay, _proposers, _executors, admin) CharityTreasury(initialOwner, _ctk){}
}

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-solidity"><code class="language-solidity code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ./CharityGovernor.sol</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">contract</span> <span class="token class-name">CharityGovernor</span> <span class="token keyword">is</span> Governor<span class="token punctuation">,</span> GovernorSettings<span class="token punctuation">,</span> GovernorCountingSimple<span class="token punctuation">,</span> GovernorVotes<span class="token punctuation">,</span> GovernorVotesQuorumFraction<span class="token punctuation">,</span> GovernorTimelockControl <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">constructor</span><span class="token punctuation">(</span>IVotes _token<span class="token punctuation">,</span> TimelockController _timelock<span class="token punctuation">,</span> 
</span><span class="code-line line-number" line="5">                <span class="token builtin">uint48</span> initialVotingDelay<span class="token punctuation">,</span> <span class="token builtin">uint32</span> initialVotingPeriod<span class="token punctuation">,</span> <span class="token builtin">uint256</span> initialProposalThreshold<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">                <span class="token builtin">uint256</span> quorumNum<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">        <span class="token function">Governor</span><span class="token punctuation">(</span><span class="token string">"CharityGovernor"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">        <span class="token function">GovernorSettings</span><span class="token punctuation">(</span>initialVotingDelay<span class="token punctuation">,</span> initialVotingPeriod<span class="token punctuation">,</span> initialProposalThreshold<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">        <span class="token function">GovernorVotes</span><span class="token punctuation">(</span>_token<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10">        <span class="token function">GovernorVotesQuorumFraction</span><span class="token punctuation">(</span>quorumNum<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="11">        <span class="token function">GovernorTimelockControl</span><span class="token punctuation">(</span>_timelock<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">    <span class="token comment">// functions that are overrides required by Solidity.</span>
</span><span class="code-line line-number" line="15">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="// ./CharityGovernor.sol
...
contract CharityGovernor is Governor, GovernorSettings, GovernorCountingSimple, GovernorVotes, GovernorVotesQuorumFraction, GovernorTimelockControl {
    constructor(IVotes _token, TimelockController _timelock, 
                uint48 initialVotingDelay, uint32 initialVotingPeriod, uint256 initialProposalThreshold,
                uint256 quorumNum)
        Governor(&#x22;CharityGovernor&#x22;)
        GovernorSettings(initialVotingDelay, initialVotingPeriod, initialProposalThreshold)
        GovernorVotes(_token)
        GovernorVotesQuorumFraction(quorumNum)
        GovernorTimelockControl(_timelock)
    {}

    // functions that are overrides required by Solidity.
    ...
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The source code of the enitre project can be found at <a href="https://github.com/KTRDeveloper/charity-dao">https://github.com/KTRDeveloper/charity-dao</a>.</p>
    <h2 id="deploying-the-dao"><a class="anchor" aria-hidden="true" tabindex="-1" href="#deploying-the-dao"><span class="octicon octicon-link"></span></a>Deploying the DAO</h2>
    <p>Our Charity DAO will be deployed on the Sepolia testnet. The first step is to obtain Sepolia ethers through faucets such as <a href="https://www.alchemy.com/faucets/ethereum-sepolia">Alchemy</a> or <a href="https://cloud.google.com/application/web3/faucet/ethereum/sepolia">Google</a>. We'll then need a node connected to the testnet that will enable us to sign and send our transactions on the network. Fortunately, we won't have to configure and operate a node ourselves. Services such as <a href="https://www.infura.io/">Infura</a> (Now part of <a href="https://developer.metamask.io/">MetaMask Developer</a>) and <a href="https://www.alchemy.com/">Alchemy</a> allow us to interact with the network without having to operate a node ourselves. For this article, we've chosen to use Infura. To use it, you'll need to create an account on Infura and log in ; then obtain and configure an API key that will be used to connect to an Infura node to relay our transactions. The steps below show how to obtain an API key on Infura.</p>
    <ol>
      <li>Create an account by heading to <a href="https://developer.metamask.io/register">https://developer.metamask.io/register</a> and providing the requested information.</li>
      <li>Open the <a href="https://developer.metamask.io/">Infura dashboard</a> (<a href="https://developer.metamask.io/">https://developer.metamask.io/</a>) (Enter your login details, if needed)</li>
    </ol>
    <p>
      <img src="./images/infura_dashboard.png" alt="Infura dashbord">
    </p>
    <p>When the account is created, Infura automatically generates an API key. By default, this key can be used on all networks supported by Infura. If it has been deleted, use the following procedure to recreate one:</p>
    <ol>
      <li>Click on CREATE NEW API KEY</li>
      <li>From the pop-up window, provide a name, then click CREATE.</li>
      <li>Select the networks that you want your API key to access, and select Save Changes: Note that all the available networks are selected by default. You can uncheck them and select only what is needed in our case, that is Ethereum Sepolia.</li>
      <li>Once the key has been created, it can be configured by clicking on “Configure” in the “actions” column.</li>
    </ol>
    <p>
      <img src="./images/infura_key_config.png" alt="infura key config">
    </p>
    <p>Make sure that the Sepolia endpoint on the Ethereum network is selected. You can select several others, but the one we're interested in here is Sepolia, as this is the network on which we'll be deploying our DAO. After that, you'll need to copy the key and save it for future use.</p>
    <p>The next step is to generate a key on the etherscan block explorer. This key will be used to verify the contract. Contract verification enables the developer to publish the contract source code on etherscan and prove that the contract deployed there corresponds exactly to the source code provided. When building a DAO, this step is necessary to provide an increased transparency.</p>
    <p>To verify the contracts of the DAO, we'll need to:</p>
    <ol>
      <li>
        <p>Register to etherscan (<a href="https://etherscan.io/register">https://etherscan.io/register</a>)</p>
      </li>
      <li>
        <p>Login (<a href="https://etherscan.io/login">https://etherscan.io/login</a>)</p>
      </li>
      <li>
        <p>Once logged in, you will be redirected to your profile page (<a href="https://etherscan.io/myaccount">https://etherscan.io/myaccount</a>)</p>
      </li>
      <li>
        <p>On the left-hand panel, click on API Keys (or navigate to the link <a href="https://etherscan.io/myapikey">https://etherscan.io/myapikey</a>)</p>
      </li>
      <li>
        <p>Click on Add, then enter the project name (e.g. “Charity DAO”) and click on “Create New API Key”.</p>
        <p>
          <img src="./images/etherscan_api_key_create.png" alt="Etherscan create api key">
        </p>
      </li>
      <li>
        <p>Once created, you can copy the key and save it for future use.</p>
        <p>
          <img src="./images/etherscan_api_key_display.png" alt="Etherscan Api Key">
        </p>
      </li>
    </ol>
    <p>Note that the key we've created on Etherscan.io can also be used on the Sepolia testnet.</p>
    <p>
      To interact with the network, we'll need several accounts. In the hardhat configuration file, accounts can be specified by filling in the accounts field of each network configuration. There are three options for that: use the node's accounts (by setting it to “remote”), a list of local accounts (by setting it to an array of hex-encoded private keys), or use a hierarchical deterministic (HD) wallet --- a wallet which uses a seed phrase to derive public and private keys.
      The second option is what we are going to use. For security reasons, we're not going to use the private keys of our personal accounts, but instead, we're going to generate an account dedicated solely to deployment. We will need to send some Sepolia Ethers to this account for it to be able to deploy the contracts on the Sepolia testnet. To generate this account, the <em>scripts/acount.js</em> script can be used. We simply need to run the following command, which will then produce an address along with a private key:
    </p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">node</span> scripts/acount.js 
</span></code><div onclick="copied(this)" data-code="node scripts/acount.js 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The final Hardhat configuration file looks like this:</p>
    <pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// hardhat.config.js</span>
</span><span class="code-line line-number" line="2"><span class="token comment">// imports ...</span>
</span><span class="code-line line-number" line="3">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token literal-property property">solidity</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">'0.8.27'</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">        <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">            <span class="token literal-property property">optimizer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">                <span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">                <span class="token literal-property property">runs</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">    <span class="token literal-property property">networks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">        <span class="token literal-property property">sepolia</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://sepolia.infura.io/v3/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">INFURA_API_KEY</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="16">            <span class="token literal-property property">accounts</span><span class="token operator">:</span> <span class="token punctuation">[</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">DEPLOYER_ACCOUNT_PRIVATE_KEY</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">    <span class="token literal-property property">etherscan</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="20">        <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">sepolia</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">ETHER_SCAN_API_KEY</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="21">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="22">    <span class="token literal-property property">sourcify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">        <span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="24">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="25"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="// hardhat.config.js
// imports ...
module.exports = {
    solidity: {
        version: &#x27;0.8.27&#x27;,
        settings: {
            optimizer: {
                enabled: true,
                runs: 100,
            },
        },
    },
    networks: {
        sepolia: {
            url: &#x60;https://sepolia.infura.io/v3/${process.env.INFURA_API_KEY}&#x60;,
            accounts: [process.env.DEPLOYER_ACCOUNT_PRIVATE_KEY],
        },
    },
    etherscan: {
        apiKey: { sepolia: process.env.ETHER_SCAN_API_KEY },
    },
    sourcify: {
        enabled: false,
    },
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The dotenv package was used to manage the environment variables used in the configuration file and the contents of the .env file is given below:</p>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">INFURA_API_KEY="your infura api key here"
</span><span class="code-line line-number" line="2">ETHER_SCAN_API_KEY="your etherscan api key here"
</span><span class="code-line line-number" line="3">DEPLOYER_ACCOUNT_PRIVATE_KEY="your deployer account private key here"
</span><span class="code-line line-number" line="4">MEMBERS_ADDRESSES=["first member address",...,"0xb..."]
</span></code><div onclick="copied(this)" data-code="INFURA_API_KEY=&#x22;your infura api key here&#x22;
ETHER_SCAN_API_KEY=&#x22;your etherscan api key here&#x22;
DEPLOYER_ACCOUNT_PRIVATE_KEY=&#x22;your deployer account private key here&#x22;
MEMBERS_ADDRESSES=[&#x22;first member address&#x22;,...,&#x22;0xb...&#x22;]
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>CharityDAO is deployed via a deployment script in the scripts folder. The contents of this script are given below:</p>
    <pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// scripts/deploy.js</span>
</span><span class="code-line line-number" line="2"><span class="token comment">// imports ...</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">const</span> <span class="token maybe-class-name">CharityToken</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> ethers<span class="token punctuation">.</span><span class="token method function property-access">getContractFactory</span><span class="token punctuation">(</span><span class="token string">'CharityToken'</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">const</span> <span class="token maybe-class-name">CharityTimelock</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> ethers<span class="token punctuation">.</span><span class="token method function property-access">getContractFactory</span><span class="token punctuation">(</span><span class="token string">'CharityTimelock'</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">const</span> <span class="token maybe-class-name">CharityGovernor</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> ethers<span class="token punctuation">.</span><span class="token method function property-access">getContractFactory</span><span class="token punctuation">(</span><span class="token string">'CharityGovernor'</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">    <span class="token comment">// retrive accounts from the local node</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">const</span> <span class="token punctuation">[</span>deployer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> ethers<span class="token punctuation">.</span><span class="token method function property-access">getSigners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="10">        <span class="token punctuation">(</span><span class="token parameter">signer</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> signer<span class="token punctuation">.</span><span class="token property-access">address</span>
</span><span class="code-line line-number" line="11">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">    <span class="token keyword">const</span> members <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">MEMBERS_ADDRESSES</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">    <span class="token keyword">const</span> admin <span class="token operator">=</span> deployer
</span><span class="code-line line-number" line="14">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>deployer<span class="token punctuation">,</span> members<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">    <span class="token comment">// Deploy token</span>
</span><span class="code-line line-number" line="17">    <span class="token keyword">const</span> charityToken <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">CharityToken</span><span class="token punctuation">.</span><span class="token method function property-access">deploy</span><span class="token punctuation">(</span>deployer<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="18">    <span class="token keyword control-flow">await</span> charityToken<span class="token punctuation">.</span><span class="token method function property-access">waitForDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">    <span class="token comment">// Deploy timelock</span>
</span><span class="code-line line-number" line="21">    <span class="token keyword">const</span> minDelay <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">// How long do we have to wait until we can execute after a passed proposal</span>
</span><span class="code-line line-number" line="22">    <span class="token comment">// (5 blocs ~> 1 min as each block takes about 12 seconds to be validated )</span>
</span><span class="code-line line-number" line="23">    <span class="token comment">// In addition to passing minDelay, two arrays are passed:</span>
</span><span class="code-line line-number" line="24">    <span class="token comment">// The 1st array contains addresses of members who are allowed to make a proposal.</span>
</span><span class="code-line line-number" line="25">    <span class="token comment">// The 2nd array contains addresses of members who are allowed to make executions.</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27">    <span class="token keyword">const</span> charityTimelock <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">CharityTimelock</span><span class="token punctuation">.</span><span class="token method function property-access">deploy</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="28">        minDelay<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="29">        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="30">        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="31">        admin<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="32">        deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="33">        charityToken
</span><span class="code-line line-number" line="34">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="35">    <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">waitForDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37">    <span class="token comment">// Deploy governanace</span>
</span><span class="code-line line-number" line="38">    <span class="token keyword">const</span> initialVotingDelay <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// Delay since proposal is created until voting starts</span>
</span><span class="code-line line-number" line="39">    <span class="token keyword">const</span> initialVotingPeriod <span class="token operator">=</span> <span class="token number">75</span> <span class="token comment">// Length of period during which people can cast their vote. (75 blocs ~> 15 min as each block takes about 12 seconds to be validated )</span>
</span><span class="code-line line-number" line="40">    <span class="token keyword">const</span> initialProposalThreshold <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// Minimum number of votes an account must have to create a proposal.</span>
</span><span class="code-line line-number" line="41">    <span class="token keyword">const</span> quorum <span class="token operator">=</span> <span class="token number">4</span> <span class="token comment">// Percentage of total supply of tokens needed to aprove proposals (4%)</span>
</span><span class="code-line line-number" line="42">    <span class="token keyword">const</span> charityGovernor <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">CharityGovernor</span><span class="token punctuation">.</span><span class="token method function property-access">deploy</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="43">        charityToken<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="44">        charityTimelock<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="45">        initialVotingDelay<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="46">        initialVotingPeriod<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="47">        initialProposalThreshold<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="48">        quorum
</span><span class="code-line line-number" line="49">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="50">    <span class="token keyword control-flow">await</span> charityGovernor<span class="token punctuation">.</span><span class="token method function property-access">waitForDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="51">
</span><span class="code-line line-number" line="52">    <span class="token comment">// The token contract is owned by the charityTimelock which is also the treasury</span>
</span><span class="code-line line-number" line="53">    <span class="token keyword control-flow">await</span> charityToken<span class="token punctuation">.</span><span class="token method function property-access">transferOwnership</span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="54">        <span class="token keyword module">from</span><span class="token operator">:</span> deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="55">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57">    <span class="token keyword">const</span> supplyCHT <span class="token operator">=</span> <span class="token string">'1000'</span> <span class="token comment">// 1000 Tokens</span>
</span><span class="code-line line-number" line="58">    <span class="token keyword">const</span> txMintTokens <span class="token operator">=</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">mintTokens</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="59">        ethers<span class="token punctuation">.</span><span class="token method function property-access">parseEther</span><span class="token punctuation">(</span>supplyCHT<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="60">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="61">            <span class="token keyword module">from</span><span class="token operator">:</span> deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="62">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="63">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="64">    <span class="token keyword control-flow">await</span> txMintTokens<span class="token punctuation">.</span><span class="token method function property-access">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66">    <span class="token comment">// 50 Tokens are transfered to each member</span>
</span><span class="code-line line-number" line="67">    <span class="token keyword">const</span> amountCHT <span class="token operator">=</span> <span class="token string">'50'</span>
</span><span class="code-line line-number" line="68">    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> members<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="69">        <span class="token keyword">const</span> txTransferTokens <span class="token operator">=</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">transferTokens</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="70">            members<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="71">            ethers<span class="token punctuation">.</span><span class="token method function property-access">parseEther</span><span class="token punctuation">(</span>amountCHT<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="72">            <span class="token punctuation">{</span> <span class="token keyword module">from</span><span class="token operator">:</span> deployer <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="73">        <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="74">        <span class="token keyword control-flow">await</span> txTransferTokens<span class="token punctuation">.</span><span class="token method function property-access">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="75">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="76">
</span><span class="code-line line-number" line="77">    <span class="token comment">// The treasury is owned by the charityTimelock</span>
</span><span class="code-line line-number" line="78">    <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">transferOwnership</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="79">        <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="80">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="81">            <span class="token keyword module">from</span><span class="token operator">:</span> deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="82">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="83">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="84">
</span><span class="code-line line-number" line="85">    <span class="token comment">// Assign roles</span>
</span><span class="code-line line-number" line="86">    <span class="token keyword">const</span> proposerRole <span class="token operator">=</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token constant">PROPOSER_ROLE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="87">    <span class="token keyword">const</span> executorRole <span class="token operator">=</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token constant">EXECUTOR_ROLE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="88">    <span class="token keyword">const</span> adminRole <span class="token operator">=</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token constant">DEFAULT_ADMIN_ROLE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="89">    <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">grantRole</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="90">        proposerRole<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="91">        <span class="token keyword control-flow">await</span> charityGovernor<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="92">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="93">            <span class="token keyword module">from</span><span class="token operator">:</span> deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="94">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="95">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="96">    <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">grantRole</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="97">        executorRole<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="98">        <span class="token keyword control-flow">await</span> charityGovernor<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="99">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="100">            <span class="token keyword module">from</span><span class="token operator">:</span> deployer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="101">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="102">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="103">
</span><span class="code-line line-number" line="104">    <span class="token comment">// Renounce admin role</span>
</span><span class="code-line line-number" line="105">    <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">renounceRole</span><span class="token punctuation">(</span>adminRole<span class="token punctuation">,</span> deployer<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="106">
</span><span class="code-line line-number" line="107">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="108">        <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token keyword control-flow">await</span> charityToken<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="109">        <span class="token literal-property property">timelock</span><span class="token operator">:</span> <span class="token keyword control-flow">await</span> charityTimelock<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="110">        <span class="token literal-property property">governor</span><span class="token operator">:</span> <span class="token keyword control-flow">await</span> charityGovernor<span class="token punctuation">.</span><span class="token method function property-access">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="111">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="112"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="113"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="114">    <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="115">    <span class="token punctuation">.</span><span class="token keyword control-flow">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="116">        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="117">        process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="118">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="119">
</span></code><div onclick="copied(this)" data-code="// scripts/deploy.js
// imports ...
async function main() {
    const CharityToken = await ethers.getContractFactory(&#x27;CharityToken&#x27;)
    const CharityTimelock = await ethers.getContractFactory(&#x27;CharityTimelock&#x27;)
    const CharityGovernor = await ethers.getContractFactory(&#x27;CharityGovernor&#x27;)

    // retrive accounts from the local node
    const [deployer] = (await ethers.getSigners()).map(
        (signer) => signer.address
    )
    const members = JSON.parse(process.env.MEMBERS_ADDRESSES)
    const admin = deployer
    console.log({deployer, members})

    // Deploy token
    const charityToken = await CharityToken.deploy(deployer)
    await charityToken.waitForDeployment()

    // Deploy timelock
    const minDelay = 5 // How long do we have to wait until we can execute after a passed proposal
    // (5 blocs ~> 1 min as each block takes about 12 seconds to be validated )
    // In addition to passing minDelay, two arrays are passed:
    // The 1st array contains addresses of members who are allowed to make a proposal.
    // The 2nd array contains addresses of members who are allowed to make executions.

    const charityTimelock = await CharityTimelock.deploy(
        minDelay,
        [],
        [],
        admin,
        deployer,
        charityToken
    )
    await charityTimelock.waitForDeployment()

    // Deploy governanace
    const initialVotingDelay = 0 // Delay since proposal is created until voting starts
    const initialVotingPeriod = 75 // Length of period during which people can cast their vote. (75 blocs ~> 15 min as each block takes about 12 seconds to be validated )
    const initialProposalThreshold = 0 // Minimum number of votes an account must have to create a proposal.
    const quorum = 4 // Percentage of total supply of tokens needed to aprove proposals (4%)
    const charityGovernor = await CharityGovernor.deploy(
        charityToken,
        charityTimelock,
        initialVotingDelay,
        initialVotingPeriod,
        initialProposalThreshold,
        quorum
    )
    await charityGovernor.waitForDeployment()

    // The token contract is owned by the charityTimelock which is also the treasury
    await charityToken.transferOwnership(await charityTimelock.getAddress(), {
        from: deployer,
    })

    const supplyCHT = &#x27;1000&#x27; // 1000 Tokens
    const txMintTokens = await charityTimelock.mintTokens(
        ethers.parseEther(supplyCHT),
        {
            from: deployer,
        }
    )
    await txMintTokens.wait()

    // 50 Tokens are transfered to each member
    const amountCHT = &#x27;50&#x27;
    for (let i = 0; i < members.length; i++) {
        const txTransferTokens = await charityTimelock.transferTokens(
            members[i],
            ethers.parseEther(amountCHT),
            { from: deployer }
        )
        await txTransferTokens.wait()
    }

    // The treasury is owned by the charityTimelock
    await charityTimelock.transferOwnership(
        await charityTimelock.getAddress(),
        {
            from: deployer,
        }
    )

    // Assign roles
    const proposerRole = await charityTimelock.PROPOSER_ROLE()
    const executorRole = await charityTimelock.EXECUTOR_ROLE()
    const adminRole = await charityTimelock.DEFAULT_ADMIN_ROLE()
    await charityTimelock.grantRole(
        proposerRole,
        await charityGovernor.getAddress(),
        {
            from: deployer,
        }
    )
    await charityTimelock.grantRole(
        executorRole,
        await charityGovernor.getAddress(),
        {
            from: deployer,
        }
    )

    // Renounce admin role
    await charityTimelock.renounceRole(adminRole, deployer)

    console.log({
        token: await charityToken.getAddress(),
        timelock: await charityTimelock.getAddress(),
        governor: await charityGovernor.getAddress(),
    })
}
main()
    .then(() => process.exit(0))
    .catch((err) => {
        console.log(err)
        process.exit(1)
    })

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>
      Globally, the script first retrieves the addresses of deployment as well as the those of initial CharityDAO members.
      It then deploys each of the CharityToken, CharityTimelock and CharityGovernor contracts. After that, 1000 Charity Token (CHT) are minted and 50 CHT is sent to each member. The deployer account, whose sole purpose is deployment, transfers ownership of the various contracts to the CharityTimelock. At the end, after assigning the <em>PROPOSER</em> and <em>EXECUTOR</em> roles to the CharityGovernor, the deployer account relinquishes its <em>DEFAULT_ADMIN_ROLE</em> role.
    </p>
    <p>Our DAO will then be deployed on the Sepolia testnet in the following steps:</p>
    <ol>
      <li>Compile contracts with the command</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat compile
</span></code><div onclick="copied(this)" data-code="npx hardhat compile
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="2">
      <li>Deployment on Sepolia</li>
    </ol>
    <p>The deployment account specified in the .env file must have sufficient Sepolia ethers for deployment. You will need to send it Sepolia ethers from another account that has some. After that, run the following command to deploy the charity DAO.</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat run <span class="token parameter variable">--network</span> sepolia scripts/deploy.js
</span></code><div onclick="copied(this)" data-code="npx hardhat run --network sepolia scripts/deploy.js
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Once deployment is complete, the addresses of the various contracts deployed are displayed in the console. You will get an output similar to the following:</p>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">{
</span><span class="code-line line-number" line="2">  deployer: '0x0D565Abc1F640378A4baC65c2874E16F0FE31446',
</span><span class="code-line line-number" line="3">  members: [
</span><span class="code-line line-number" line="4">    '0xa423Bf61F83a9a272a57aB243aC0190D977A0416',
</span><span class="code-line line-number" line="5">    '0x0874207411f712D90edd8ded353fdc6f9a417903',
</span><span class="code-line line-number" line="6">    '0xb88961C00ca91C1c3427c791a3659FD1cce8Bc27'
</span><span class="code-line line-number" line="7">  ]
</span><span class="code-line line-number" line="8">}
</span><span class="code-line line-number" line="9">{
</span><span class="code-line line-number" line="10">  token: '0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c',
</span><span class="code-line line-number" line="11">  timelock: '0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc',
</span><span class="code-line line-number" line="12">  governor: '0xCCd3Ed837396027e0444a1980B7A808514eF18f6'
</span><span class="code-line line-number" line="13">}  
</span></code><div onclick="copied(this)" data-code="{
  deployer: &#x27;0x0D565Abc1F640378A4baC65c2874E16F0FE31446&#x27;,
  members: [
    &#x27;0xa423Bf61F83a9a272a57aB243aC0190D977A0416&#x27;,
    &#x27;0x0874207411f712D90edd8ded353fdc6f9a417903&#x27;,
    &#x27;0xb88961C00ca91C1c3427c791a3659FD1cce8Bc27&#x27;
  ]
}
{
  token: &#x27;0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c&#x27;,
  timelock: &#x27;0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc&#x27;,
  governor: &#x27;0xCCd3Ed837396027e0444a1980B7A808514eF18f6&#x27;
}  
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="3">
      <li>
        You can then go to sepolia.<a href="https://sepolia.etherscan.io/">https://sepolia.etherscan.io</a> and search for the contract with Token's address and confirm that it has indeed been deployed.
        Please note that you should only consider the addresses displayed in your console, as yours will differ from what's displayed here.
      </li>
    </ol>
    <p>
      <img src="./images/deployed_contracts_on_etherscan_contract_tab.png" alt="deployed contracts on etherscan">
    </p>
    <ol start="4">
      <li>The final step is to verify the contracts. Verification is an important step, as it increases transparency by uploading the contract source code to the block explorer so that it can be viewed by everyone, and verifying that the code actually sent corresponds to the deployed contract. To perform this verification, the <em>@nomicfoundation/hardhat-verify</em> plugin is needed. The data passed to the constructors of the various contracts at the time of deployment is also required. The following commands can be used to verify the different contracts.</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat verify <span class="token parameter variable">--network</span> sepolia DEPLOYED_CONTRACT_ADDRESS “Constructor argument <span class="token number">1</span>” “Constructor argument <span class="token number">2</span>” <span class="token punctuation">..</span>.
</span></code><div onclick="copied(this)" data-code="npx hardhat verify --network sepolia DEPLOYED_CONTRACT_ADDRESS “Constructor argument 1” “Constructor argument 2” ...
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The <a href="https://sepolia.etherscan.io/address/0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c">CharityToken</a> contract can be verified as follow:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat verify <span class="token parameter variable">--network</span> sepolia 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c 0x0D565Abc1F640378A4baC65c2874E16F0FE31446
</span></code><div onclick="copied(this)" data-code="npx hardhat verify --network sepolia 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c 0x0D565Abc1F640378A4baC65c2874E16F0FE31446
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>which produces the following output:</p>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">Successfully submitted source code for contract
</span><span class="code-line line-number" line="2">contracts/CharityToken.sol:CharityToken at 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c
</span><span class="code-line line-number" line="3">for verification on the block explorer. Waiting for verification result...
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5">Successfully verified contract CharityToken on the block explorer.
</span><span class="code-line line-number" line="6">https://sepolia.etherscan.io/address/0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c#code
</span></code><div onclick="copied(this)" data-code="Successfully submitted source code for contract
contracts/CharityToken.sol:CharityToken at 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c
for verification on the block explorer. Waiting for verification result...

Successfully verified contract CharityToken on the block explorer.
https://sepolia.etherscan.io/address/0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c#code
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>You can see that a small green tick has appeared on the contract tab and that the <a href="https://sepolia.etherscan.io/address/0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c#code">contract source code</a> is available on Etherscan.</p>
    <p>
      <img src="./images/verified_contract_on_etherscan.png" alt="verified contract on etherscan">
    </p>
    <p>For the other contracts, CharityGovernor and CharityTimeLock, the verification commands are as follows:</p>
    <ul>
      <li>For <a href="https://sepolia.etherscan.io/address/0xCCd3Ed837396027e0444a1980B7A808514eF18f6">CharityGovernor</a></li>
    </ul>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat verify <span class="token parameter variable">--network</span> sepolia 0xCCd3Ed837396027e0444a1980B7A808514eF18f6 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c 0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc <span class="token number">0</span> <span class="token number">75</span> <span class="token number">0</span> <span class="token number">4</span>
</span></code><div onclick="copied(this)" data-code="npx hardhat verify --network sepolia 0xCCd3Ed837396027e0444a1980B7A808514eF18f6 0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c 0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc 0 75 0 4
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ul>
      <li>For <a href="https://sepolia.etherscan.io/address/0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc">CharityTimeLock</a></li>
    </ul>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">npx hardhat verify <span class="token parameter variable">--network</span> sepolia <span class="token parameter variable">--contract</span> contracts/CharityTimelock.sol:CharityTimelock --constructor-args scripts/arguments.js  0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc
</span></code><div onclick="copied(this)" data-code="npx hardhat verify --network sepolia --contract contracts/CharityTimelock.sol:CharityTimelock --constructor-args scripts/arguments.js  0x211A4772C6a6727C7B03d7A78b9e79E02B4F37cc
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Where <em>scripts/arguments.js</em> file contain the exported list of the constructor arguments. This is needed when the constructor has complex argument list.</p>
    <pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// scripts/arguments.js</span>
</span><span class="code-line line-number" line="2">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="3">    <span class="token number">5</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">    <span class="token string">'0x0D565Abc1F640378A4baC65c2874E16F0FE31446'</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">    <span class="token string">'0x0D565Abc1F640378A4baC65c2874E16F0FE31446'</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">    <span class="token string">'0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c'</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">]</span>
</span></code><div onclick="copied(this)" data-code="// scripts/arguments.js
module.exports = [
    5,
    [],
    [],
    &#x27;0x0D565Abc1F640378A4baC65c2874E16F0FE31446&#x27;,
    &#x27;0x0D565Abc1F640378A4baC65c2874E16F0FE31446&#x27;,
    &#x27;0xE9B493cAEccE4bc997D5020d3f08F70D2Cd4a79c&#x27;,
]
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="operating-the-charity-dao"><a class="anchor" aria-hidden="true" tabindex="-1" href="#operating-the-charity-dao"><span class="octicon octicon-link"></span></a>Operating the Charity DAO</h2>
    <p>To operate our DAO, we're going to use Tally. Tally is a frontend for onchain decentralized organizations where users can delegate voting power, create or pass proposals to spend DAO funds, manage a protocol, and upgrade smart contracts. It should be noted that it is entirely possible to dispense with Tally and build a front-end from scratch that interacts with Charity DAO. This offers greater flexibility, but also requires more resources for development.</p>
    <h3 id="connecting-the-dao-to-tally"><a class="anchor" aria-hidden="true" tabindex="-1" href="#connecting-the-dao-to-tally"><span class="octicon octicon-link"></span></a>Connecting the DAO to Tally</h3>
    <p>To interact with our DAO, we need to connect it to Tally. To do this, follow the steps below:</p>
    <ol>
      <li>Go to Tally and click on <a href="https://www.tally.xyz/get-started">Tally</a> then select “Deploy myself” then click on “Deploy contracts myself”.</li>
    </ol>
    <p>
      <img src="./images/tally_get_started_page.png" alt="Tally get started page">
    </p>
    <ol start="2">
      <li>Check all the boxes and click on “Get started”.</li>
    </ol>
    <p>
      <img src="./images/tally_cheched_boxes.png" alt="tally cheched boxes">
    </p>
    <ol start="3">
      <li>Connect your wallet by clicking on connect wallet and choose the account with which you wish to connect. If you haven't set up a wallet yet, you can follow this guide to install and configure Metamask, which is one of the most popular.</li>
    </ol>
    <p>
      <img src="./images/tally_connect_wallet.png" alt="Tally connect wallet">
    </p>
    <ol start="4">
      <li>Once the wallet is connected, click on “Sign in” and confirm the sign-in request popped up by Metamask. You will then be redirected to the page for adding a DAO, as shown in the figure below.</li>
    </ol>
    <p>
      <img src="./images/tally_add_dao_page.png" alt="Tally add dao page">
    </p>
    <ol start="5">
      <li>On the DAO addition page, enter the address of the previously deployed CharityGovernor and select the “Ethereum Tesnet Sepolia” network, then click on the “Fetch Details” button. Make sure your contract has been verified as described above, otherwise Tally won't be able to automatically load the details of your CharityGovernor Contract.</li>
      <li>Once loaded, Tally will display the contract details.</li>
    </ol>
    <p>
      <img src="./images/tally_contract_details_fetched.png" alt="Tally contract details fetched">
    </p>
    <ol start="7">
      <li>Enter the name and description of the DAO in the “Basic DAO details” section, then click on the “Submit” button.</li>
    </ol>
    <p>
      <img src="./images/tally_basic_details.png" alt="Tally basic details">
    </p>
    <ol start="8">
      <li>You will receive a confirmation and will be redirected to the <a href="https://www.tally.xyz/gov/charitydao">CharityDAO homepage</a> (in our case: <a href="https://www.tally.xyz/gov/charitydao">https://www.tally.xyz/gov/charitydao</a>).</li>
    </ol>
    <p>
      <img src="./images/tally_charity_dao_home_page.png" alt="Tally charity dao home page">
    </p>
    <h3 id="the-proposal-lifecycle-on-tally"><a class="anchor" aria-hidden="true" tabindex="-1" href="#the-proposal-lifecycle-on-tally"><span class="octicon octicon-link"></span></a>The Proposal Lifecycle on Tally</h3>
    <p>First of all, we need to transfer some Sepolia Ether to the accounts that will be used to interact with the Charity DAO. Then we'll need to connect to Tally with each of these accounts and delegate voting powers. Delegation allows a token holder to transfer his/her voting power to another user (with the possibility to withdrawn at any time) while keeping the underlying assets. In fact, only delegated tokens can participate in voting and if you wish to vote directly, you will need to delegate your voting power to yourself. To delegate voting power on Tally, simply click on the Delegate button on the DAO home page and indicate the account to which you want to delegate.</p>
    <p>
      <img src="./images/delegate-your-vote.png" alt="Delegate vote">
    </p>
    <p>Note that to be able to use the voting power for a proposal, it should be delegated before the proposal is active. This behavior is enforced to prevent users from changing the outcome of a vote in progress by buying or borrowing additional votes.</p>
    <p>After delegation, we can proceed to the creation of a proposal.</p>
    <p>We want to create a proposal that will transfer 20 CHT from the treasury to the address we're logged in with (which is 0xa423Bf61F83a9a272a57aB243aC0190D977A0416 in my case) once it's executed. To do this, we are going to follow the steps below:</p>
    <ol>
      <li>From the CharityDAO home page, click on "Proposals", then on the “New Proposal” button.</li>
      <li>Fill in the title and description</li>
    </ol>
    <p>
      <img src="./images/tally_create_proposal_title_and_description.png" alt="Create proposal, provide title and description">
    </p>
    <ol start="3">
      <li>Add actions: Here, we want to invoke the <em>transferTokens</em> method of the CharityTimelock contract, which is also our treasury. For that, click on the “Add Action” button, then on “Custom action” and enter CharityTimelock's address. Since the contract has been verified, the details are automatically loaded. Choose the <em>transferTokens</em> method, then enter the destination address and the number of tokens to be transferred.</li>
    </ol>
    <p>
      <img src="./images/tally_create_proposal_add_action.png" alt="Add action to the proposal">
    </p>
    <ol start="4">
      <li>Then run a simulation to see if the proposal will be executed correctly once validated. To do this, click on “Impact Overview”, then on “Simulate execution”.</li>
    </ol>
    <p>
      <img src="./images/tally_create_proposal_simulation.png" alt="Simulation of the proposal">
    </p>
    <ol start="5">
      <li>If the simulation is successful, we can then click on the “Publish” button and sign the transaction with the Wallet. Once completed, it redirects us to the proposal page, where members can cast their votes once the voting has begun.</li>
    </ol>
    <p>
      <img src="./images/tally_proposal_page.png" alt="Proposal page on Tally">
    </p>
    <ol start="6">
      <li>To vote, each member must go to the CharityDAO home page, click on “Proposals” and select the proposal in the proposal list. The proposal page will then load, and the user can cast his/her vote by clicking on the “Vote onchain” button and choosing from the options. Connect with at least two of the accounts specified in the <em>.env</em> and vote for the proposal to be validated. Please note that for experimental reasons, we've set the voting time to roughly 15 minutes. Make sure you vote within this timeframe for the vote to pass.</li>
    </ol>
    <p>
      <img src="./images/tally_voting.png" alt="Voting on Tally">
    </p>
    <ol start="7">
      <li>Once the voting period has elapsed, if quorum has been reached and the majority has voted in favor, then the proposal is validated and can be inserted into the queue for execution. This can be done by any member by clicking on the “Queue” button which has replaced the “Vote onchain” button. Once inserted in the queue, the proposal must be executed by clicking on “Execute”, which replaces the “Queue” button. When execution is complete, you can return to the home page with the same account as above and check that the number of tokens has increased from 50 to 70.</li>
    </ol>
    <p>
      <img src="./images/tally_after_proposal_execution.png" alt="Result after proposal execution">
    </p>
    <h2 id="wrap-up"><a class="anchor" aria-hidden="true" tabindex="-1" href="#wrap-up"><span class="octicon octicon-link"></span></a>Wrap-up</h2>
    <p>In this article, we used a charity organization as a practical example to demonstrate the development, deployment, and operation of a Decentralized Autonomous Organization (DAO). We implemented the DAO in Solidity using the Openzeppelin library, deployed it to the Sepolia testnet, and verified the deployed contracts on Etherscan for further transparency. Finally, Tally was employed to demonstrate the operational aspects of the DAO.</p>
    <h3 id="acknowledgements"><a class="anchor" aria-hidden="true" tabindex="-1" href="#acknowledgements"><span class="octicon octicon-link"></span></a>Acknowledgements</h3>
    <p>Many thanks to <a href="https://ethereum.foundation/">Ethereum Foundation</a> which allowed me through the <a href="https://nxbn.ethereum.foundation/scholars">Devcon Scholars Program</a> to attend <a href="https://devcon.org/">Devcon 7 SEA</a> where I learned most of the things that are presented in this article.</p>
  <style>markdown-style pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
markdown-style pre .copied:not(.active) {
  visibility: hidden;
}
markdown-style pre:hover .copied {
  visibility: visible;
}
markdown-style pre:hover .copied:hover {
  background: #4caf50;
  color: #fff;
}
markdown-style pre:hover .copied:active,
markdown-style pre .copied.active {
  background: #2e9b33;
  color: #fff;
}
markdown-style pre .copied .octicon-copy {
  display: block;
}
markdown-style pre .copied .octicon-check {
  display: none;
}
markdown-style pre .active .octicon-copy {
  display: none;
}
markdown-style pre .active .octicon-check {
  display: block;
}</style><script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script></markdown-style></body>
</html>
